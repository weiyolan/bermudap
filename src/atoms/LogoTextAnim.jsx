import { gsap } from 'gsap/dist/gsap';
import { useEffect, useRef, useState } from 'react';
import useGsap from '@/utils/useGsap';

export default function LogoTextAnim({ color, className, textClassName }) {
  return (<div
    alt="Text displaying Bermuda Events"
    className={className}
  >
    <svg
      viewBox="0 0 641 127"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <Path id='B' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M21.3689 70.0695C38.7604 70.0695 48.47 61.9197 48.47 50.3384C48.47 39.3419 39.8523 32.4789 31.1955 32.4789V31.972C36.4208 30.9971 43.2838 26.0838 43.2838 17.3491C43.3618 6.39168 32.5603 0.971455 19.3412 0.971455C10.6845 0.971455 7.44793 1.47838 0 1.16643C0.272961 6.78162 0.584916 13.5277 0.584916 21.4825V49.5585C0.584916 57.5133 0.272961 64.2984 0 69.8746C7.44793 69.5626 10.6845 70.0695 21.3689 70.0695ZM8.42279 60.1649V35.2085H19.5362C29.6357 35.2085 39.8523 37.5872 39.8523 51.8201C39.8523 62.3096 34.549 65.8581 22.3828 65.8581C11.7763 65.8581 8.42279 64.6883 8.42279 60.1649ZM8.42279 31.1921V11.188C8.42279 6.66464 10.4115 5.18285 17.4695 5.18285C25.8143 5.18285 35.2119 7.75648 35.2119 18.9479C35.2119 28.5405 28.3489 31.1921 19.5362 31.1921H8.42279Z" />
      <Path id='E' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M129.041 70.0695C129.82 70.1865 129.82 69.8745 130.015 68.9777L131.224 64.2983C131.302 63.7914 130.795 63.6744 129.742 63.7914C120.618 64.5713 110.401 65.1562 102.446 65.1562C99.1318 65.1562 97.65 64.0644 97.4551 61.4517C97.1431 57.2013 97.1431 53.5749 97.1431 49.6364V40.2388C97.1431 37.6651 98.4299 37.1972 100.38 37.1972H101.277C108.14 37.1972 114.925 37.5872 118.629 37.8601C119.916 37.9771 120.306 37.9771 120.813 36.8853L122.373 33.3758C122.762 32.4789 122.372 31.972 121.593 32.0889C116.094 32.7908 111.571 32.8688 102.173 32.8688H100.38C98.4299 32.8688 97.1431 32.4009 97.1431 29.8273V21.4045C97.1431 17.466 97.2601 13.7226 97.4551 9.51119C97.5331 6.85957 99.1318 5.76773 102.446 5.76773C109.894 5.76773 118.746 6.27466 127.871 7.05455C128.963 7.17153 129.236 7.05455 129.352 6.58661L130.522 2.06326C130.717 1.16639 130.522 0.893431 129.547 0.97142C121.671 1.47835 115.509 1.47835 107.945 1.47835C101.939 1.47835 96.1683 1.47835 88.7203 1.16639C88.9933 6.78159 89.3052 13.5276 89.3052 21.4825V49.5584C89.3052 57.5133 88.9933 64.2983 88.7203 69.8745C96.1683 69.5626 102.056 69.5626 108.529 69.5626C115.003 69.5626 121.203 69.5626 129.041 70.0695Z" />
      <Path id='R' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M172.926 69.8746H182.051C181.856 64.2984 181.349 57.5133 181.349 49.5585V38.952C190.2 38.952 193.047 39.6539 199.325 47.6088L216.873 69.8746H227.791C224.944 66.911 222.488 64.1814 218.081 58.8002L208.138 47.0238C204.823 42.9684 201.587 39.264 199.013 37.2752C206.383 36.4174 215.82 30.8022 215.82 19.1428C215.82 6.58665 205.018 0.971455 192.15 0.971455C183.922 0.971455 180.374 1.47838 172.926 1.16643C173.199 6.78162 173.511 13.5277 173.511 21.4825V49.5585C173.511 57.5133 173.199 64.2984 172.926 69.8746ZM181.349 35.2085V11.188C181.349 6.66464 183.805 4.98788 190.005 4.98788C199.715 4.98788 207.475 10.6031 207.475 21.4825C207.475 32.4789 199.715 35.2085 184.78 35.2085H181.349Z" />
      <Path id='M' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M268.025 69.8746H273.602C273.914 61.5298 273.992 53.107 274.382 44.7622L275.473 21.2875L299.728 67.2229C300.313 68.3928 301.171 68.7047 302.379 68.7047C303.432 68.7047 304.329 68.3148 304.641 67.2229C305.226 65.2732 306.864 60.6329 309.32 55.7586L327.18 20.1177L328.389 44.7622C328.779 53.107 328.974 61.5298 329.169 69.8746H337.786C337.124 61.5298 336.422 53.107 336.11 44.7622L333.965 1.28341C333.887 -0.198377 331.703 -0.120389 331.118 1.08844L303.744 56.3435L274.693 1.08844C274.109 -0.120389 271.925 -0.198377 271.847 1.08844L269.663 44.7622C269.273 53.107 268.688 61.5298 268.025 69.8746Z" />
      <Path id='U' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M408.949 71.4344C423.962 71.4344 435.544 62.2317 435.544 44.4502V31.8941C435.544 21.6775 435.622 13.3327 436.128 1.16646H429.928C430.435 13.3327 430.513 21.6775 430.513 31.8941V44.9572C430.513 59.1901 421.506 66.5211 409.417 66.5211C397.446 66.5211 389.101 59.1901 389.101 44.9572V21.4825C389.101 13.5277 389.491 6.78166 389.803 1.16646H380.093C380.366 6.78166 380.756 13.5277 380.756 21.4825V44.4502C380.756 64.1814 395.769 71.4344 408.949 71.4344Z" />
      <Path id='D' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M503.238 70.0695C527.298 70.0695 539.971 53.9648 539.971 34.1557C539.971 15.0094 528.273 0.971455 503.355 0.971455C498.052 0.971455 489.707 1.47838 482.259 1.16643C482.532 6.78162 482.844 13.5277 482.844 21.4825V49.5585C482.844 57.5133 482.532 64.2984 482.259 69.8746C489.707 69.5626 498.325 70.0695 503.238 70.0695ZM490.682 59.97V11.383C490.682 6.66464 492.671 5.29983 500.392 5.29983C521.215 5.29983 532.016 20.5076 532.016 37.7822C532.016 55.9536 520.825 65.7411 501.678 65.7411C492.671 65.7411 490.682 64.4933 490.682 59.97Z" />
      <Path id='A' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M574.3 69.8745H580.383L588.338 51.3132C589.313 49.1685 591.77 49.2465 594.694 49.2465H615.712C619.261 49.2465 621.99 49.2465 622.77 51.3132L630.452 69.8745H640.24C637.315 63.6744 634.352 57.3963 631.7 51.2352L610.019 0.776432C609.707 0.0745332 602.571 1.28336 602.454 2.33621C602.064 5.57274 601.401 10.0961 597.463 18.9478L582.918 51.3132C580.188 57.5133 577.225 63.6744 574.3 69.8745ZM591.575 43.5533L605.613 10.2131L619.534 43.5533C620.119 44.7621 618.364 44.9571 616.804 44.9571H594.304C592.745 44.9571 590.99 44.7621 591.575 43.5533Z" />
      <Path id='E' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M253.194 112.962H242.081V105.943H254.13V103.174H239V126.688H254.325L254.754 123.958H242.081V115.731H253.584V113.313L253.194 112.962Z" />
      <Path id='V' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M277.148 126.376L286.039 103.174H283.036L283.348 103.759L278.942 115.575L278.279 115.302C277.031 118.655 275.588 122.399 275.159 123.919H275.705C275.315 122.243 273.989 118.616 272.781 115.224L272.664 115.458L268.413 103.759L268.14 103.174H265.099L273.755 126.688H277.031L277.148 126.376Z" />
      <Path id='E' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M311.85 112.962H300.737V105.943H312.786V103.174H297.656V126.688H312.981L313.41 123.958H300.737V115.731H312.24V113.313L311.85 112.962Z" />
      <Path id='N' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M328.799 126.376V116.433C328.799 112.299 328.838 108.712 328.643 106.255H328.097C329.579 108.673 337.573 121.463 340.848 126.688H344.475V103.174H341.433V113.196C341.433 116.939 341.433 120.41 341.589 123.179H342.174C340.848 120.839 333.088 108.712 329.579 103.174H325.757V126.688H328.409L328.019 126.376H328.799Z" />
      <Path id='T' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M366.784 126.688V105.943H374.349V103.174H356.099V105.943H363.664V126.688H366.784Z" />
      <Path id='S' className={`${textClassName} ${color ? "fill-black" : "fill-white"}`} d="M386.908 119.786H384.101C384.608 123.374 387.259 127 392.952 127C398.373 127 401.336 123.724 401.336 120.254C401.336 117.407 399.893 114.483 393.459 112.923C389.326 111.909 388.312 111.324 388.312 108.985C388.312 106.606 389.638 105.514 392.68 105.514C396.15 105.514 397.203 106.879 397.749 109.531H400.868C400.556 106.294 398.022 102.823 392.758 102.823C387.805 102.823 385.076 105.982 385.076 109.141C385.076 112.416 387.454 114.444 392.524 115.692C397.359 116.861 398.1 117.992 398.1 120.449C398.1 122.75 397.008 124.348 393.069 124.348C389.521 124.348 387.961 123.023 387.298 120.098L386.908 120.488V119.786Z" />
    </svg>

  </div>);
}

function Path({ children, ...props }) {


  let [hovering, setHovering] = useState(false);
  let [clicking, setClicking] = useState(false);
  const myRef = useRef();
  let ctx = useGsap();

  useEffect(() => {
    myRef?.current !== undefined &&
      ctx.add(() => {
        gsap.to(myRef.current, {
          duration: 0.5,
          scale: hovering ? (clicking ? 0.95 : 1.1) : 1,
          transformOrigin: '50% 50%',
          ease: 'elastic.out(1, 0.5)',
          // ease: 'expo.out',
        });
      });
  }, [hovering, clicking]);


  return (
    <g
      ref={myRef}
      onMouseEnter={() => setHovering(true)}
      onMouseLeave={() => {
        setHovering(false);
        setClicking(false);
      }}
      onMouseDown={() => setClicking(true)}
      onMouseUp={() => setClicking(false)}>
      <path
        {...props} />
    </g>

  )

}